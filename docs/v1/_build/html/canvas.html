

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67206336-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-67206336-2');
</script>

  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Canvas, The Scene Editor &mdash; Phaser Editor Help</title>
  

  
  
    <link rel="shortcut icon" href="_static/logo.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Phaser Editor Help" href="index.html"/>
        <link rel="next" title="Coding The Game: The JavaScript Editor" href="jseditor.html"/>
        <link rel="prev" title="Assets Management" href="assets-manager.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Phaser Editor
          

          
            <img src="_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="first-steps.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="assets-manager.html">Assets Management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Canvas, The Scene Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#play-the-demos">Play the demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#states-sprites-and-groups">States, sprites and groups</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-state-scene">The state scene</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-sprite-scene-prefab">The sprite scene (prefab)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-group-scene-prefab">The group scene (prefab)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#objects-creation">Objects creation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#related-phaser-concepts">Related Phaser concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#by-dropping-an-asset">By dropping an asset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#from-the-assets-window">From the Assets window</a></li>
<li class="toctree-l4"><a class="reference internal" href="#from-the-preview-window">From the Preview window</a></li>
<li class="toctree-l4"><a class="reference internal" href="#from-the-palette">From the Palette</a></li>
<li class="toctree-l4"><a class="reference internal" href="#from-the-context-menu">From the context menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#selecting-the-container">Selecting the container</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#group-creation">Group creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#object-morphing">Object morphing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#text-morphing">Text morphing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-object-creation">Dynamic object creation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-creation-of-sprite-prefab-objects">Dynamic creation of sprite prefab objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dynamic-creation-of-group-prefab-objects">Dynamic creation of group prefab objects</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scene-navigation">Scene navigation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-outline-window">The Outline window</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-quick-outline-window">The Quick Outline window</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#object-properties">Object properties</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#common-object-properties">Common object properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prefab-instance-properties">Prefab instance properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sprite-properties">Sprite properties</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arcade-physics">Arcade Physics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#animations">Animations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-data">User data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#texture">Texture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#button-properties">Button properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tilesprite-properties">TileSprite properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-properties">Text properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bitmap-text-properties">Bitmap Text properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-and-bitmap-text-common-commands">Text and Bitmap Text common commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tilemap-properties">Tilemap properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#group-properties">Group properties</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#physics-groups">Physics groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-setall-property">The <code class="docutils literal notranslate"><span class="pre">setAll</span></code> property</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#design-time-object-properties">Design-time object properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#in-scene-object-manipulators">In-scene object manipulators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#translation">Translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scale">Scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotation">Rotation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anchor">Anchor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pivot">Pivot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scene-configuration">Scene configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-editor-section">The Editor section</a></li>
<li class="toctree-l3"><a class="reference internal" href="#state-scene-configuration">State scene configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preloader-state-configuration">Preloader state configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#user-code">User code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#writing-into-the-code-file">Writing into the code file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#writing-into-the-configuration">Writing into the configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#public-objects">Public objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#objects-alignment-and-depth-order">Objects alignment and depth order</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#alignment">Alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#depth-order">Depth order</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#common-editing-operations">Common editing operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#removing-distractions">Removing distractions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jseditor.html">Coding The Game: The JavaScript Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="chains.html">Chains: Search on the Phaser Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="preview-window.html">The Preview Window</a></li>
<li class="toctree-l1"><a class="reference internal" href="texture-packer.html">Texture Packing Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="optipng.html">Optimize The PNG Image Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio-sprites.html">Audio Sprites Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="update.html">Update and Upgrade</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Phaser Editor</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Canvas, The Scene Editor</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Read the documentation of the latest major version of Phaser Editor 2D <a class="reference external" href="https://help.phasereditor2d.com">here</a>.</p>
</div>
<div class="section" id="canvas-the-scene-editor">
<h1>Canvas, The Scene Editor<a class="headerlink" href="#canvas-the-scene-editor" title="Permalink to this headline">¶</a></h1>
<p>Canvas is a visual (WYSIWYG) game level/object editor for Phaser. With this tool, you can create a level or the prefabs (reusable objects) of the game, layout sprites and edit object properties like transformation, physics body, and animation. The scenes are compiled to Phaser code, in JavaScript or TypeScript.</p>
<p>There are three types of Canvas files: states (compiled to a <code class="docutils literal notranslate"><span class="pre">Phaser.State</span></code> code), sprite prefabs (compiled to <code class="docutils literal notranslate"><span class="pre">Phaser.Sprite</span></code> code) and group prefabs (compiled to`Phaser.Group` code). These Phaser classes contain the code that creates the objects of the game world. It is not like other tools like Tiled that uses a custom format to represent the layout and properties of the objects, else it compiles to a code that mimics what a developer can write with his “own hands”. This method has the advantage that the user can read and understand what is behind the scene and like in other tools provided in Phaser Editor, the developer can learn Phaser or reuse his current Phaser learnings.</p>
<p>When you create a scene (let’s say one named <code class="docutils literal notranslate"><span class="pre">Level</span></code>) you get two files: <code class="docutils literal notranslate"><span class="pre">Level.canvas</span></code> and <code class="docutils literal notranslate"><span class="pre">Level.js</span></code>. The <code class="docutils literal notranslate"><span class="pre">Level.canvas</span></code> file contains the objects of the scene and uses a custom Phaser Editor format. The <code class="docutils literal notranslate"><span class="pre">Level.js</span></code> file is compiled from the <code class="docutils literal notranslate"><span class="pre">Level.canvas</span></code> file and contains all the Phaser code that creates the real scene. Note that in a game distribution only the <code class="docutils literal notranslate"><span class="pre">Level.js</span></code> file is needed since <code class="docutils literal notranslate"><span class="pre">Level.canvas</span></code> is only for design purpose.</p>
<p>Read in Zenva GameDev Academy <a class="reference external" href="https://gamedevacademy.org/make-a-mario-style-platformer-with-the-phaser-editor/">Make a Mario-Style Platformer with the Phaser Editor</a></p>
<img alt="Canvas." src="_images/Canvas.png" />
<div class="section" id="play-the-demos">
<h2>Play the demos<a class="headerlink" href="#play-the-demos" title="Permalink to this headline">¶</a></h2>
<p>To play around with a Canvas demo you can create a project with the <a class="reference external" href="first-steps.html#phaser-example-project-wizard">Phaser Example Project wizard</a>. There you can select any of the templates under the <strong>Phaser Editor Demos</strong> category.</p>
</div>
<div class="section" id="states-sprites-and-groups">
<h2>States, sprites and groups<a class="headerlink" href="#states-sprites-and-groups" title="Permalink to this headline">¶</a></h2>
<p>In this section, we are going to do a quick explanation of the difference and purpose of each type of Canvas: states, sprites, and groups.</p>
<div class="section" id="the-state-scene">
<h3>The state scene<a class="headerlink" href="#the-state-scene" title="Permalink to this headline">¶</a></h3>
<p>A Phaser game is divided by states, for example, the menu screen is coded in a state, a game level is coded in a state, the “game over” screen… What the user does is to write a special class that extends the <code class="docutils literal notranslate"><span class="pre">Phaser.State</span></code> type, and implement some special methods where the creation and logic of the game are coded. These methods are the <code class="docutils literal notranslate"><span class="pre">preload</span></code>, <code class="docutils literal notranslate"><span class="pre">create</span></code>, <code class="docutils literal notranslate"><span class="pre">update</span></code> and others.</p>
<p>This is an example of a state scene and the code compiled by Canvas:</p>
<p>A state with two coins…</p>
<img alt="State demo with two coins." src="_images/CanvasStateDemo.png" />
<p>… is compiled into this code:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// -- user code here --</span>

<span class="cm">/* --- start generated code --- */</span>

<span class="c1">// Generated by Phaser Editor v1.4.0 (Phaser v2.6.2)</span>


<span class="cm">/**</span>
<span class="cm"> * DemoState.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">DemoState</span><span class="p">()</span> <span class="p">{</span>

        <span class="nx">Phaser</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

<span class="p">}</span>

<span class="cm">/** @type Phaser.State */</span>
<span class="kd">var</span> <span class="nx">DemoState_proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="nx">DemoState</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">DemoState_proto</span><span class="p">;</span>
<span class="nx">DemoState</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">DemoState</span><span class="p">;</span>

<span class="nx">DemoState</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

<span class="p">};</span>

<span class="nx">DemoState</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">preload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">pack</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">,</span> <span class="s1">&#39;assets/pack.json&#39;</span><span class="p">);</span>

<span class="p">};</span>

<span class="nx">DemoState</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">create</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">119</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="s1">&#39;coins&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">334</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span> <span class="s1">&#39;coins&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="p">};</span>

<span class="cm">/* --- end generated code --- */</span>
<span class="c1">// -- user code here --</span>
</pre></div>
</div>
<p>To create a State scene click in the main menu the <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">→</span> <span class="pre">New</span> <span class="pre">→</span> <span class="pre">State</span> <span class="pre">File</span></code> option, it opens the State File wizard. The first page of that wizard asks for the parent folder and the name of the scene. Usually, we create a <code class="docutils literal notranslate"><span class="pre">WebContent/assets/canvas</span></code> folder where to place all the scenes and prefabs, but you are free to use any folder inside the <code class="docutils literal notranslate"><span class="pre">WebContent</span></code> directory. In the next picture we use <code class="docutils literal notranslate"><span class="pre">Level</span></code> as the name of the scene, that will create a <code class="docutils literal notranslate"><span class="pre">Level.canvas</span></code> file. This is very important: the name of the file will be used to create the name of the state class.</p>
<img alt="State wizard (file page)" src="_images/NewStateWizard_FilePage.png" />
<p>The next page shows the sections of the asset packs of the project. If you select a section, the generated JavaScript file will be added to that section as a <code class="docutils literal notranslate"><span class="pre">script</span></code> asset. This is the way we recommend to load the scripts, however, you can use any other loader framework or the traditional <code class="docutils literal notranslate"><span class="pre">script</span></code> tag inside the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file.</p>
<img alt="State wizard (loading page)" src="_images/SceneWizard_Loading.png" />
<p>If you press <strong>Finish</strong> the state file is created with the default parameters, but we recommend that you press the <strong>Next</strong> button, to do some customization of the scene:</p>
<img alt="State wizard settings page." src="_images/SceneWizard_Settings.png" />
<p>Many of the parameters shown in that page come from the Phaser API, however, there are other parameters like the <strong>Auto Load</strong>, <strong>Base Class Name</strong> or <strong>Code Format</strong> that are used by the scene-to-code compiler. Special attention to the <strong>Auto Load</strong> parameter, it indeicates if the assets used in the scene will be loaded in the <code class="docutils literal notranslate"><span class="pre">preload</span></code> method, but it is a common practice to load all the assets in a ‘’Preloader’’ state, so maybe you would like to uncheck that parameter for the “menu” and “level” states.</p>
<p>All these settings can be changed later in the configuration tab of the editor.</p>
<p>Sate scenes will be displayed in the <a class="reference external" href="assets-manager.html#assets-explorer">Assets</a> window under the <strong>State</strong> section.</p>
</div>
<div class="section" id="the-sprite-scene-prefab">
<h3>The sprite scene (prefab)<a class="headerlink" href="#the-sprite-scene-prefab" title="Permalink to this headline">¶</a></h3>
<p>The sprite scene or sprite prefab is a Canvas file with a unique object that compiles to a <code class="docutils literal notranslate"><span class="pre">Phaser.Sprite</span></code> sub-class. In the Phaser examples it is called as “custom sprite”, in other tutorials and examples about Phaser it is called also “prefab”. We like the word “prefab” since it is a concept used in other game visual tools, but the purpose is the same, to write reusable components that can be used in different parts of the game, without the need to duplicate code. For example, you can create a <code class="docutils literal notranslate"><span class="pre">Coin</span></code> prefab with the coin animations, so you can use that animated coin in any other scene.</p>
<p>This is an example of how a sprite canvas file is compiled into a custom <code class="docutils literal notranslate"><span class="pre">Phaser.Sprite</span></code>:</p>
<p>The coin scene (with a <code class="docutils literal notranslate"><span class="pre">rotate</span></code> animation) is compiled into a custom Sprite class:</p>
<img alt="Coin prefab." src="_images/CoinPrefab.png" />
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// -- user code here --</span>

<span class="cm">/* --- start generated code --- */</span>

<span class="c1">// Generated by Phaser Editor v1.4.0 (Phaser v2.6.2)</span>

<span class="cm">/**</span>
<span class="cm"> * Coin.</span>
<span class="cm"> * @param {Phaser.Game} aGame A reference to the currently running game.</span>
<span class="cm"> * @param {Number} aX The x coordinate (in world space) to position the Sprite at.</span>
<span class="cm"> * @param {Number} aY The y coordinate (in world space) to position the Sprite at.</span>
<span class="cm"> * @param {any} aKey This is the image or texture used by the Sprite during rendering. It can be a string which is a reference to the Cache entry, or an instance of a RenderTexture or PIXI.Texture.</span>
<span class="cm"> * @param {any} aFrame If this Sprite is using part of a sprite sheet or texture atlas you can specify the exact frame to use by giving a string or numeric index.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">Coin</span><span class="p">(</span><span class="nx">aGame</span><span class="p">,</span> <span class="nx">aX</span><span class="p">,</span> <span class="nx">aY</span><span class="p">,</span> <span class="nx">aKey</span><span class="p">,</span> <span class="nx">aFrame</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Sprite</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">aGame</span><span class="p">,</span> <span class="nx">aX</span><span class="p">,</span> <span class="nx">aY</span><span class="p">,</span> <span class="nx">aKey</span> <span class="o">||</span> <span class="s1">&#39;coins&#39;</span><span class="p">,</span> <span class="nx">aFrame</span> <span class="o">==</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">aFrame</span> <span class="o">==</span> <span class="kc">null</span><span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">aFrame</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">setTo</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">_anim_rotate</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

        <span class="c1">// fields</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">fCoins</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">fAnim_rotate</span> <span class="o">=</span> <span class="nx">_anim_rotate</span><span class="p">;</span>

<span class="p">}</span>

<span class="cm">/** @type Phaser.Sprite */</span>
<span class="kd">var</span> <span class="nx">Coin_proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">Sprite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="nx">Coin</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Coin_proto</span><span class="p">;</span>
<span class="nx">Coin</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">Coin</span><span class="p">;</span>

<span class="cm">/* --- end generated code --- */</span>
<span class="c1">// -- user code here --</span>
</pre></div>
</div>
<p>To create a sprite prefab, in the main menu select the <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">→</span> <span class="pre">New</span> <span class="pre">→</span> <span class="pre">Sprite</span> <span class="pre">Prefab</span> <span class="pre">File</span></code> option. Like the State wizard, the first two pages are about to select the container folder, the file name and the asset pack section where to load the script.</p>
<p>In the last page you set some needed parameters, the most important is the sprite type and texture:</p>
<img alt="Sprite prefab wizard" src="_images/CreateSpritePrefab.png" />
<p>In the current version of Canvas the sprites cannot have children, so a sprite prefab cannot have children either, it is a file with a single object.</p>
</div>
<div class="section" id="the-group-scene-prefab">
<h3>The group scene (prefab)<a class="headerlink" href="#the-group-scene-prefab" title="Permalink to this headline">¶</a></h3>
<p>In Phaser, a group is an object with a different purpose. It can be used as a pool of objects or like a transformation list of objects. As well as the sprites, you can create “custom groups”, or what we name group prefabs. These group prefabs can be added to other scenes so they are a way to write reusable components. For example, you can create a tree with fruits and use it in different levels.</p>
<p>This group prefab…</p>
<img alt="Group prefab." src="_images/GroupPrefab.png" />
<p>… is compiled into this code:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// -- user code here --</span>

<span class="cm">/* --- start generated code --- */</span>

<span class="c1">// Generated by Phaser Editor v1.4.0 (Phaser v2.6.2)</span>


<span class="cm">/**</span>
<span class="cm"> * Tree.</span>
<span class="cm"> * @param {Phaser.Game} aGame A reference to the currently running game.</span>
<span class="cm"> * @param {Phaser.Group} aParent The parent Group (or other {@link DisplayObject}) that this group will be added to.</span>
<span class="cm">    If undefined/unspecified the Group will be added to the {@link Phaser.Game#world Game World}; if null the Group will not be added to any parent.</span>
<span class="cm"> * @param {string} aName A name for this group. Not used internally but useful for debugging.</span>
<span class="cm"> * @param {boolean} aAddToStage If true this group will be added directly to the Game.Stage instead of Game.World.</span>
<span class="cm"> * @param {boolean} aEnableBody If true all Sprites created with {@link #create} or {@link #createMulitple} will have a physics body created on them. Change the body type with {@link #physicsBodyType}.</span>
<span class="cm"> * @param {number} aPhysicsBodyType The physics body type to use when physics bodies are automatically added. See {@link #physicsBodyType} for values.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">Tree</span><span class="p">(</span><span class="nx">aGame</span><span class="p">,</span> <span class="nx">aParent</span><span class="p">,</span> <span class="nx">aName</span><span class="p">,</span> <span class="nx">aAddToStage</span><span class="p">,</span> <span class="nx">aEnableBody</span><span class="p">,</span> <span class="nx">aPhysicsBodyType</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Group</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">aGame</span><span class="p">,</span> <span class="nx">aParent</span><span class="p">,</span> <span class="nx">aName</span><span class="p">,</span> <span class="nx">aAddToStage</span><span class="p">,</span> <span class="nx">aEnableBody</span><span class="p">,</span> <span class="nx">aPhysicsBodyType</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="s1">&#39;Tree_3&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">103</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">147</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">190</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">243</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">95</span><span class="p">,</span> <span class="mi">221</span><span class="p">,</span> <span class="s1">&#39;objects&#39;</span><span class="p">,</span> <span class="s1">&#39;Bush (1)&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>

<span class="p">}</span>

<span class="cm">/** @type Phaser.Group */</span>
<span class="kd">var</span> <span class="nx">Tree_proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">Group</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="nx">Tree</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Tree_proto</span><span class="p">;</span>
<span class="nx">Tree</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">Tree</span><span class="p">;</span>

<span class="cm">/* --- end generated code --- */</span>
<span class="c1">// -- user code here --</span>
</pre></div>
</div>
<p>To create a group prefab select in the main menu the <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">→</span> <span class="pre">New</span> <span class="pre">→</span> <span class="pre">Group</span> <span class="pre">Prefab</span> <span class="pre">File</span></code> option. The first two pages, like in the other Canvas wizards, are about to select the container folder and container asset pack section. In the last page you can set some options, like the base class name (other than <code class="docutils literal notranslate"><span class="pre">Phaser.Group</span></code>) or the code format (JavaScript 5, JavaScript 6 or TypeScript).</p>
</div>
</div>
<div class="section" id="objects-creation">
<h2>Objects creation<a class="headerlink" href="#objects-creation" title="Permalink to this headline">¶</a></h2>
<p>In general, a Canvas scene is formed by a tree of objects (sprites) and a couple of configuration parameters. In this section, we are going to explain how to add the objects.</p>
<div class="section" id="related-phaser-concepts">
<h3>Related Phaser concepts<a class="headerlink" href="#related-phaser-concepts" title="Permalink to this headline">¶</a></h3>
<p>In Phaser the common syntax to create the sprites is like this:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;enemy&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">game</span></code> var is a reference to the global game instance, the first two arguments are the position of the sprite (<code class="docutils literal notranslate"><span class="pre">10,</span> <span class="pre">10</span></code>) and the last argument is the asset key of a texture. The assets of the game are stored in a cache and identified by a key that is declared in the <code class="docutils literal notranslate"><span class="pre">preload</span></code> method, for example:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">preload</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">image</span><span class="p">(</span><span class="s2">&quot;enemy&quot;</span><span class="p">,</span> <span class="s2">&quot;assets/monster.png&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Phaser Editor uses an <a class="reference external" href="assets-manager.html">Asset manifest file (pack)</a> that contains the declaration of the assets and the keys. Instead of writing the code to load each asset, you only need to load the asset pack file:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">game</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">pack</span><span class="p">(</span><span class="s2">&quot;level&quot;</span><span class="p">,</span> <span class="s2">&quot;assets/pack.json&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>That loading code is written in the <code class="docutils literal notranslate"><span class="pre">preload</span></code> method of the states, so if the state was compiled from a Canvas file then it is generated automatically.</p>
</div>
<div class="section" id="by-dropping-an-asset">
<h3>By dropping an asset<a class="headerlink" href="#by-dropping-an-asset" title="Permalink to this headline">¶</a></h3>
<p>The common way to create an object is by getting an asset from somewhere and dropping it into the scene. In the next sections, we explain the different sources of the assets.</p>
<div class="section" id="from-the-assets-window">
<h4>From the Assets window<a class="headerlink" href="#from-the-assets-window" title="Permalink to this headline">¶</a></h4>
<p>In the <a class="reference external" href="assets-manager.html#assets-explorer">Assets</a> explorer you will find all the assets declared in the pack files. To create a common sprite you can drag a texture from that window and drop it into the scene:</p>
<img alt="Add objects from the Assets window." src="_images/AddObjectFromAssets.png" />
<p>Note a texture could be represented by an image key, a sprite-sheet frame key or a texture atlas frame key.</p>
<p>The type of object created by dropping an asset in the scene depends on the type of the asset. If you drop a texture (image, atlas frame or spritesheet frame), it creates a simple sprite, a direct instance of <code class="docutils literal notranslate"><span class="pre">Phaser.Sprite</span></code>. If you drop a bitmap font, a bitmap text (<code class="docutils literal notranslate"><span class="pre">Phaser.BitmapText</span></code>) object is created, and if you drop a tilemap asset, a <code class="docutils literal notranslate"><span class="pre">Phaser.Tilemap</span></code> object is created. There are different types of sprites (like tile sprites or buttons) that can be created with a texture, in the next sections, we explain how to create them.</p>
<p>From the Assets view, you can add prefabs too. Look for the <strong>Sprites</strong> and <strong>Group</strong> sections of that window. When the prefab is dropped into the scene then a prefab instance is created. This is how looks a code compiled from a State scene that contains prefab instances. Note the difference between to add a sprite from a texture (<code class="docutils literal notranslate"><span class="pre">bg</span></code>) and a sprite from a prefab (<code class="docutils literal notranslate"><span class="pre">Tree</span></code>):</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Level</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">create</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;bg&#39;</span><span class="p">);</span>

        <span class="kd">var</span> <span class="nx">_tree</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tree</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">game</span><span class="p">);</span>
        <span class="nx">_tree</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">setTo</span><span class="p">(</span><span class="mi">39</span><span class="p">,</span> <span class="mi">130</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="from-the-preview-window">
<h4>From the Preview window<a class="headerlink" href="#from-the-preview-window" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference external" href="preview-window.html">Preview window</a> allows you to get a closer look at the assets. Like in the Assets window, you can drag an asset key from the Preview and drop it to the scene. For example, you can drop “cells” from a sprite-sheet of a retro game into the scene. This method could be easier than getting it from the Assets tree:</p>
<img alt="Add object from the Preview window." src="_images/AddObjectFromPreview.png" />
<p>You can drag the objects from an image, a texture atlas or a sprite-sheet. In case of sprite-sheets, you can select many frames (hold the <cite>Shift</cite> key and move the mouse) and drop them into the scene: new objects will be created but keeping the original positions. This is useful to create tile-based scenes.</p>
<img alt="Drop sprite-sheet frames" src="_images/DropSpritesheetFrames.gif" />
</div>
<div class="section" id="from-the-palette">
<h4>From the Palette<a class="headerlink" href="#from-the-palette" title="Permalink to this headline">¶</a></h4>
<p>The Palette is a docked window at the right of the scene and is used to keep at hand a selection of assets that you use often. You can add assets to the palette in the same way you add them to the scene. One time the assets are in the palette you can drag them from there and drop them into the scene. To show the palette you can click on the palette icon.</p>
<img alt="Add the assets from the palette." src="_images/AddAssetFromPalette.png" />
</div>
<div class="section" id="from-the-context-menu">
<h4>From the context menu<a class="headerlink" href="#from-the-context-menu" title="Permalink to this headline">¶</a></h4>
<p>If you like to work without distracting windows around you can maximize the scene editor (<code class="docutils literal notranslate"><span class="pre">Ctrl+M</span></code>) so it gets all the application space. In this mode you have the option to add the objects by using the Add Sprite dialog, just right-click on the scene and select <code class="docutils literal notranslate"><span class="pre">Sprite</span> <span class="pre">→</span> <span class="pre">Add...</span> <span class="pre">→</span> <span class="pre">Sprite</span></code>:</p>
<img alt="Context menu to open the Add Sprite dialog." src="_images/AddSpriteMenu.png" />
<p>It shows a dialog with all the assets that can be used to create the sprite:</p>
<img alt="Add Sprite dialog." src="_images/AddSpriteDialog.png" />
<p>As you can see in the previous menu, you can add another type of objects like buttons (<code class="docutils literal notranslate"><span class="pre">Phaser.Button</span></code>), tiles (<code class="docutils literal notranslate"><span class="pre">Phaser.TileSprite</span></code>) and prefabs. It does the same, to open a dialog with the assets or prefabs to be added but it creates an object of different type.</p>
</div>
<div class="section" id="selecting-the-container">
<h4>Selecting the container<a class="headerlink" href="#selecting-the-container" title="Permalink to this headline">¶</a></h4>
<p>It is a very common case when you want to add the new object to a specific group. To do this just select the group and then add the object to the scene. For example, if you want to add more blocks to the <code class="docutils literal notranslate"><span class="pre">ground</span></code> group, then select <code class="docutils literal notranslate"><span class="pre">ground</span></code> and then add the objects to the scene. If instead of a group you select a sprite and add a new object, this object will be added to the parent of the selected sprite. For example, if you select a <code class="docutils literal notranslate"><span class="pre">block</span></code> sprite and add a new object then it will be inserted into the block’s parent group, in this case, the <code class="docutils literal notranslate"><span class="pre">ground</span></code> group.</p>
</div>
</div>
<div class="section" id="group-creation">
<h3>Group creation<a class="headerlink" href="#group-creation" title="Permalink to this headline">¶</a></h3>
<p>You can create an empty group or a group with the selected objects as children:</p>
<img alt="Add group menu." src="_images/AddGroupMenu.png" />
<p>Note to create a group with the selected objects you can press the <code class="docutils literal notranslate"><span class="pre">G</span></code> key.</p>
<p>Other group operations are:</p>
<ul class="simple">
<li>Break group (<code class="docutils literal notranslate"><span class="pre">Shift+G</span></code>): it re-parents the children and destroys the group.</li>
<li>Trim group (<code class="docutils literal notranslate"><span class="pre">T</span></code>): it removes the blank spaces around the children.</li>
</ul>
</div>
<div class="section" id="object-morphing">
<h3>Object morphing<a class="headerlink" href="#object-morphing" title="Permalink to this headline">¶</a></h3>
<p>The common way to create an object is by adding an asset to the scene and it creates a regular sprite (<code class="docutils literal notranslate"><span class="pre">Phaser.Sprite</span></code>). If you want to create a different type of object (like a button or a tile) you have two options: the <cite>From the context menu</cite> option or the morphing option.</p>
<p>To morphing an object means to convert an object from one type to another type, for example, to morph a sprite into a button or into a tile sprite. When you morph an object into another type it keeps the same properties, like transformation, texture, body.</p>
<p>To morph an object right click on it and select one of the options displayed in the <code class="docutils literal notranslate"><span class="pre">Sprite</span> <span class="pre">→</span> <span class="pre">Morph</span> <span class="pre">To...</span></code> menu:</p>
<img alt="Morph object to another type." src="_images/MorphObjectTo.png" />
<p>In addition, you can press the <code class="docutils literal notranslate"><span class="pre">L</span></code> key to morph the selected sprite to a tile sprite, and resize it. It is a handy shortcut for games based on fixed-size art. If the sprite is already a tile sprite it just show the handlers to resize it.</p>
<div class="section" id="text-morphing">
<h4>Text morphing<a class="headerlink" href="#text-morphing" title="Permalink to this headline">¶</a></h4>
<p>You can morph a Text or Bitmap Text object into other type of objects, but the must interesting is to morph between them. When you morph a Text object to a Bitmap Text object, or a Bitmap Text into a Text object, some properties remain the same, like the size, text and alignment. This helps to swap from a demo art assets to the final art assets.</p>
<p>A handy command is the <code class="docutils literal notranslate"><span class="pre">Text</span> <span class="pre">→</span> <span class="pre">Select</span> <span class="pre">All</span> <span class="pre">Texts</span> <span class="pre">With</span> <span class="pre">The</span> <span class="pre">Same</span> <span class="pre">Font</span></code> (available in the context menu), that allow to select all objects of the scene that shares the same font, then you can morph them into a different type of font:</p>
<p>Select all objects with the same font and run the Morph To BitmapText command:</p>
<img alt="Morph to bitmap text." src="_images/MorphToBitmapTextMenu.png" />
<p>It opens a Bitmap Font selection dialog:</p>
<img alt="A dialog to select the bitmap font." src="_images/SelectBitmapFontToMorph.png" />
<p>Then all texts are morphed to the selected font:</p>
<img alt="The text morphed into a bitmap text." src="_images/MorphedText.png" />
</div>
</div>
<div class="section" id="dynamic-object-creation">
<h3>Dynamic object creation<a class="headerlink" href="#dynamic-object-creation" title="Permalink to this headline">¶</a></h3>
<p>Many genres of games create the levels dynamically or part of the levels. With Canvas you can design the sprite and group prefabs and then create instances of them dynamically.</p>
<div class="section" id="dynamic-creation-of-sprite-prefab-objects">
<h4>Dynamic creation of sprite prefab objects<a class="headerlink" href="#dynamic-creation-of-sprite-prefab-objects" title="Permalink to this headline">¶</a></h4>
<p>To create a sprite prefab dynamically follow this syntax:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">coin</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coin</span><span class="p">(</span><span class="nx">game</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">existing</span><span class="p">(</span><span class="nx">coin</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">game</span></code> is a reference to the <code class="docutils literal notranslate"><span class="pre">Phaser.Game</span></code> instance and <code class="docutils literal notranslate"><span class="pre">10,</span> <span class="pre">10</span></code> is the location of the object, and <code class="docutils literal notranslate"><span class="pre">Coin</span></code> is the name of a sprite prefab.</p>
<p>If you want to add the sprite to a group, then the syntax is:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">coin</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coin</span><span class="p">(</span><span class="nx">game</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nx">parentGroup</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">coin</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also create the sprite with a different texture:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">coin</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Coin</span><span class="p">(</span><span class="nx">game</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;atlas&#39;</span><span class="p">,</span> <span class="s1">&#39;blue-coin&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">'atlas'</span></code> is the name of a texture loaded with the <code class="docutils literal notranslate"><span class="pre">atlas</span></code> key, and <code class="docutils literal notranslate"><span class="pre">'blue-coin'</span></code> is the name of a frame of the texture.</p>
</div>
<div class="section" id="dynamic-creation-of-group-prefab-objects">
<h4>Dynamic creation of group prefab objects<a class="headerlink" href="#dynamic-creation-of-group-prefab-objects" title="Permalink to this headline">¶</a></h4>
<p>Just like sprite prefabs you can create group prefabs like this:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">group</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SkyBackground</span><span class="p">(</span><span class="nx">game</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">game</span></code> is an instance of the Phaser game and <code class="docutils literal notranslate"><span class="pre">SkyBackground</span></code> is a group prefab.</p>
<p>If you want to add the new group to a parent group then this is the syntax:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">group</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SkyBackground</span><span class="p">(</span><span class="nx">game</span><span class="p">,</span> <span class="nx">parentGroup</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="scene-navigation">
<h2>Scene navigation<a class="headerlink" href="#scene-navigation" title="Permalink to this headline">¶</a></h2>
<p>For large scenes, it is very important to navigate the tree of objects and quickly find specific objects. In the next section, we show the tools provided by Phaser Editor for this purpose.</p>
<div class="section" id="the-outline-window">
<h3>The Outline window<a class="headerlink" href="#the-outline-window" title="Permalink to this headline">¶</a></h3>
<p>In the top/left corner of the editor, there is the Outline window. It shows the hierarchy of the scene objects. There you can filter, select, delete, group and move the objects of the scene:</p>
<img alt="Outline window." src="_images/CanvasOutline.png" />
</div>
<div class="section" id="the-quick-outline-window">
<h3>The Quick Outline window<a class="headerlink" href="#the-quick-outline-window" title="Permalink to this headline">¶</a></h3>
<p>In addition, there is the Quick Outline window. It is opened by the user with the key sequence <code class="docutils literal notranslate"><span class="pre">Ctrl+O</span></code>. The object selected by the user is focused on the scene, so it can be used as a search tool too.</p>
<p>This quick window is very useful when the scene left panel is hidden to gain in space.</p>
<img alt="Quick outline window." src="_images/CanvasQuickOutline.png" />
</div>
</div>
<div class="section" id="object-properties">
<h2>Object properties<a class="headerlink" href="#object-properties" title="Permalink to this headline">¶</a></h2>
<p>To edit the scene object properties there is the Properties Grid window. The Phaser objects contain a lot of properties, but in Canvas we just support a subset of them, especially those that have an impact on the visual aspects of the objects.</p>
<p>To edit the properties of an object follow these steps:</p>
<ul class="simple">
<li>Select the object -you cannot edit many objects at the same time- in the scene or in the Outline window.</li>
<li>The object’s properties are shown in the Property Grid.</li>
<li>Click on the value of a property and change it. Then press ENTER to apply that change. In case of numeric properties, you can write a math expression like <code class="docutils literal notranslate"><span class="pre">15*30</span></code>, then it is evaluated and the result is set to value.</li>
<li>Some properties have special editors that open in a separated window.</li>
<li>You always can undo the change by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+Z</span></code>.</li>
</ul>
<img alt="Edit the sprite properties." src="_images/PropertyGrid.png" />
<p>As you can note, in the top of the grid there is a text field with a “type filter text” message, it helps to filter the list of properties and find the one of your interest.</p>
<p>As an alternative to the Property Grid, you can open the Quick Edit dialog (by pressing <code class="docutils literal notranslate"><span class="pre">Q</span></code> or clicking on the button of the toolbar). It is actually the same thing of the Property Grid but it is shown in a popup dialog.</p>
<p>A nice feature is that you can hover the mouse over a property and it displays the help of it. This help is the same of the Phaser API, actually, that help is taken from the Phaser metadata generated by Phaser Editor, by parsing the Phaser sources.</p>
<img alt="The help of a property in the grid." src="_images/PropertyGridHelp.png" />
<p>When you change a property it is highlighted with a bold font, and generated in the code in this way:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sprite</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;wall&quot;</span><span class="p">);</span>
<span class="nx">sprite</span><span class="p">.</span><span class="nx">tint</span> <span class="o">=</span> <span class="mh">0xfcfcfc</span><span class="p">;</span> <span class="c1">// modified property</span>
</pre></div>
</div>
<div class="section" id="common-object-properties">
<h3>Common object properties<a class="headerlink" href="#common-object-properties" title="Permalink to this headline">¶</a></h3>
<p>All the objects in the scene share a common set of properties:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">name</span></code></td>
<td>A user defined name. This value isn’t ever used internally by Phaser or Phaser Editor.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">x/y</span></code></td>
<td>The position of the Game Object on the x axis relative to the local coordinates of the parent.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">angle</span></code></td>
<td>The angle property is the rotation of the object in <em>degrees</em>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">scale.x/y</span></code></td>
<td>The scale of the object.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">pivot.x/y</span></code></td>
<td>The pivot point of this object that it rotates around.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">alpha</span></code></td>
<td>The alpha value of the object. 0 is transparent, 1 is fully opaque.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fixedToCamera</span></code></td>
<td>If true the Game Object will appear to be ‘fixed’ to the camera, regardless of where in the game world the camera is viewing. Useful for backgrounds or UI elements in scrolling games.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">renderable</span></code></td>
<td>Whether this object is renderable or not. Often used in Phaser Editor to create hidden layers with physics bodies.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="prefab-instance-properties">
<h3>Prefab instance properties<a class="headerlink" href="#prefab-instance-properties" title="Permalink to this headline">¶</a></h3>
<p>By default the properties of a prefab instance cannot be changed, the <code class="docutils literal notranslate"><span class="pre">position</span></code> and <code class="docutils literal notranslate"><span class="pre">override</span></code> properties are the exception. The <code class="docutils literal notranslate"><span class="pre">override</span></code> property contains the list of properties that can be changed in that prefab instance. It means, that if you want to change the scale of a prefab instance then first step is to “open” or “unlock” the scale property by checking it on the <code class="docutils literal notranslate"><span class="pre">override</span></code> list. Note that when a property is not checked in the <code class="docutils literal notranslate"><span class="pre">override</span></code> list it is shown as disabled in the Property Grid and cannot be edited.</p>
<p>To reset the value of a property to the prefab’s original value, just uncheck the property in the <code class="docutils literal notranslate"><span class="pre">override</span></code> list.</p>
<img alt="Override a prefab instance property." src="_images/OverridePrefabProperty.png" />
<p>You can open this dialog by selecting the prefab instance and pressing the <code class="docutils literal notranslate"><span class="pre">R</span></code> key.</p>
</div>
<div class="section" id="sprite-properties">
<h3>Sprite properties<a class="headerlink" href="#sprite-properties" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Phaser.Sprite</span></code> is the common class for all the game objects based on textures. In this section, we show the properties supported by Phaser Editor and some dedicated property editors.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">anchor.x/y</span></code></td>
<td>The anchor sets the origin point of the texture. The default is 0,0 this means the texture’s origin is the top left Setting than anchor to 0.5,0.5 means the textures origin is centered Setting the anchor to 1,1 would mean the textures origin points will be the bottom right corner.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">tint</span></code></td>
<td>The tint applied to the sprite. This is a hex value. A value of 0xFFFFFF (white) will remove any tint effect. To edit this value the editor shows the native color dialog. You can press <code class="docutils literal notranslate"><span class="pre">DEL</span></code> to reset the value.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">animations</span></code></td>
<td>A list of animations. This property is explained in the <a class="reference internal" href="#animations">Animations</a> section.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span></code></td>
<td>An empty object where the user can add custom properties. See the <a class="reference internal" href="#user-data">User data</a> section.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">frameName</span></code></td>
<td>This property is shown only for sprites with a texture based on a texture atlas frame. When the user edits this property it shows a dialog with all the frames of the atlas. Read more in the <a class="reference internal" href="#texture">Texture</a> section.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">frame</span></code></td>
<td>This property is shown only for sprites with a texture based on a sprite-sheet frame index. When the user edits this property it shows a dialog with all the frames of the sprite-sheet. Read more in the <a class="reference internal" href="#texture">Texture</a> section.</td>
</tr>
</tbody>
</table>
<div class="section" id="arcade-physics">
<h4>Arcade Physics<a class="headerlink" href="#arcade-physics" title="Permalink to this headline">¶</a></h4>
<p>For now, the scene editor only supports Arcade physics. It does not mean that you cannot add another type of physics to your game, else that you should set the other physics bodies by hand, without any special tool.</p>
<p>To enable Arcade physics on a sprite you have two options:</p>
<ul class="simple">
<li>Set <code class="docutils literal notranslate"><span class="pre">true</span></code> the <code class="docutils literal notranslate"><span class="pre">physicsGroup</span></code> property of the parent group of the sprite. Physics bodies are automatically enabled in objects added to a physics group.</li>
<li>Select the object and open the context menu, in the <code class="docutils literal notranslate"><span class="pre">Sprite</span> <span class="pre">→</span> <span class="pre">Arcade</span></code> menu there are two commands: <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Arcade</span> <span class="pre">Body</span> <span class="pre">-</span> <span class="pre">Rectangular</span></code> and <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">Arcade</span> <span class="pre">Body</span> <span class="pre">-</span> <span class="pre">Circular</span></code>, both commands enable a physics body (rectangular or circular) in the selected object. In addition, you can press the <code class="docutils literal notranslate"><span class="pre">B</span></code> key, it shows a context menu with all the type of physics bodies, like in the following image:</li>
</ul>
<img alt="Set Arcade physics body to sprite." src="_images/SpriteArcadeMenu.png" />
<p>When you add a body to a sprite, a new section <code class="docutils literal notranslate"><span class="pre">Arcade</span></code> is added to the Property Grid. This section contains many properties related to the Arcade physics body of the sprite and can be edited. In addition, you can visually edit the size and offset of the body, just right click on the sprite and select <code class="docutils literal notranslate"><span class="pre">Sprite</span> <span class="pre">→</span> <span class="pre">Arcade</span> <span class="pre">→</span> <span class="pre">Edit</span> <span class="pre">Body</span></code> or press the <code class="docutils literal notranslate"><span class="pre">B</span></code> key. Look a shortcuts pane is shown, there you can perform certain actions like change the body type or set the body size “manually”:</p>
<img alt="Edit Arcade body size and offset." src="_images/EditArcadeBody.png" />
</div>
<div class="section" id="animations">
<h4>Animations<a class="headerlink" href="#animations" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">animations</span></code> property is a reference to the <code class="docutils literal notranslate"><span class="pre">Phaser.AnimationManager</span></code> of the sprite. This manager contains a list of sprite animations and provides methods to manipulate the animations like <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code> and others.</p>
<p>To add animations to a sprite select it and press the <code class="docutils literal notranslate"><span class="pre">A</span></code> key, or go to the <cite>animations</cite> property in the properties grid and click on the dialog button.</p>
<img alt="The animations dialog." src="_images/AnimationsDialog.png" />
<p>As you can see in the dialog you can add/remove animation, add/remove frames to an animation sequence, edit each animation properties and play an animation. The animations properties you can edit are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Frame</span> <span class="pre">Rate</span></code></td>
<td>The animation speed in frames per second.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Loop</span></code></td>
<td>To repeat the animation.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Kill</span> <span class="pre">On</span> <span class="pre">Complete</span></code></td>
<td>If checked, the animation will be played once and then destroyed.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Auto</span> <span class="pre">Play</span></code></td>
<td>If checked, the animation will be played just after it is created. Only one animation can be auto-played.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Field</span></code></td>
<td>If checked, a field will be generated to reference this animation. Useful if you want to publish animations of prefabs.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Public</span></code></td>
<td>Only valid for TypeScript projects. If checked, the generated field will be set to public, else to private.</td>
</tr>
</tbody>
</table>
<p>The animations are compiled into code in this way:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">_dino</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;dino&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">_dino_walk</span> <span class="o">=</span> <span class="nx">_dino</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;walk&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">_dino_walk</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span> <span class="c1">// the &quot;walk&quot; animation was set to Auto Play</span>
<span class="nx">_dino</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;jump&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nx">_dino</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;stay&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</pre></div>
</div>
<p>If the animation <code class="docutils literal notranslate"><span class="pre">jump</span></code> has checked the <code class="docutils literal notranslate"><span class="pre">Field</span></code> flag, then an instance field <code class="docutils literal notranslate"><span class="pre">fDino_jump</span></code> will be generated:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">_dino_jump</span> <span class="o">=</span> <span class="nx">_dino</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;jump&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nx">_dino</span><span class="p">.</span><span class="nx">animations</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;stay&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="c1">// fields</span>

<span class="hll"><span class="k">this</span><span class="p">.</span><span class="nx">fDino_jump</span> <span class="o">=</span> <span class="nx">_dino_jump</span><span class="p">;</span>
</span></pre></div>
</div>
</div>
<div class="section" id="user-data">
<h4>User data<a class="headerlink" href="#user-data" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">data</span></code> property of the sprites is a reference to an empty object where the user can put any attribute. Often this data is used to create small variations between the sprites without the need to create new sprite types (or prefabs). In Phaser Editor you can set the JSON value of that property. When the user clicks it to edit it opens a dialog with a text editor where you can write the JSON values:</p>
<img alt="The dialog to edit the data content." src="_images/DataDialog.png" />
<p>For example, if you have some enemies in a level that walk from one side to other, you can set in the <code class="docutils literal notranslate"><span class="pre">data</span></code> property the <code class="docutils literal notranslate"><span class="pre">velocity</span></code> and the <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> borders of the enemy walk. Each enemy will get a different movement range. In the <code class="docutils literal notranslate"><span class="pre">update</span></code> method of the level, you can read that information for each enemy and update its position.</p>
</div>
<div class="section" id="texture">
<h4>Texture<a class="headerlink" href="#texture" title="Permalink to this headline">¶</a></h4>
<p>Canvas support three different type of textures: image, sprite-sheet frame and atlas frame. If the sprite is based on atlas or sprite-sheet, the user can change the frame by editing the <code class="docutils literal notranslate"><span class="pre">frameName</span></code> or <code class="docutils literal notranslate"><span class="pre">frame</span></code> property. In addition, there is a <code class="docutils literal notranslate"><span class="pre">Change</span> <span class="pre">Texture</span></code> command that allows the user to replace the texture with any other texture type. This command is available in the context menu <code class="docutils literal notranslate"><span class="pre">Sprite</span> <span class="pre">→</span> <span class="pre">Change</span> <span class="pre">Sprite</span> <span class="pre">Texture</span></code> or can be executed by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+T</span></code>. It opens a dialog with all the textures declared in the asset pack. This command allows selecting more than one sprite so you can change the texture of all of them.</p>
<img alt="A dialog to change the texture of the selected sprites." src="_images/ChangeTextureDialog.png" />
<p>Another nice command is <code class="docutils literal notranslate"><span class="pre">Sprite</span> <span class="pre">→</span> <span class="pre">Select</span> <span class="pre">All</span> <span class="pre">Sprites</span> <span class="pre">With</span> <span class="pre">Same</span> <span class="pre">Texture</span></code>, it selects all the sprites in the same scene with the same texture of the selection. It helps to replace demo textures by final textures.</p>
<p>In addition, Phaser Editor provides texture refactoring, it is a process that allows changing the texture of all the sprites of all the scenes. You can read more about it the <a class="reference external" href="assets-manager.html#global-replace-texture">Global replace texture</a> section.</p>
</div>
</div>
<div class="section" id="button-properties">
<h3>Button properties<a class="headerlink" href="#button-properties" title="Permalink to this headline">¶</a></h3>
<p>The button object (<code class="docutils literal notranslate"><span class="pre">Phaser.Button</span></code>) inherits all the properties from the sprite and adds the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">callback</span></code></td>
<td>The function to call when the button is pressed.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">callbackContext</span></code></td>
<td>The context which the callback will be called (<code class="docutils literal notranslate"><span class="pre">this</span></code> by default).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">overFrame</span></code></td>
<td>The <code class="docutils literal notranslate"><span class="pre">frame</span></code>/<code class="docutils literal notranslate"><span class="pre">frameName</span></code> when the button is in the Over state.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">outFrame</span></code></td>
<td>The <code class="docutils literal notranslate"><span class="pre">frame</span></code>/<code class="docutils literal notranslate"><span class="pre">frameName</span></code> when the button is in the Out state.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">downFrame</span></code></td>
<td>The <code class="docutils literal notranslate"><span class="pre">frame</span></code>/<code class="docutils literal notranslate"><span class="pre">frameName</span></code> when the button is in the Down state.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">upFrame</span></code></td>
<td>The <code class="docutils literal notranslate"><span class="pre">frame</span></code>/<code class="docutils literal notranslate"><span class="pre">frameName</span></code> when the button is in the Up state.</td>
</tr>
</tbody>
</table>
<p>When the user clicks to edit any of the <code class="docutils literal notranslate"><span class="pre">(over/out/down/up)Frame</span></code> parameters it shows a dialog to select the new frame, from the list of frames of the same texture, atlas or sprite-sheet.</p>
</div>
<div class="section" id="tilesprite-properties">
<h3>TileSprite properties<a class="headerlink" href="#tilesprite-properties" title="Permalink to this headline">¶</a></h3>
<p>These are the tile (<code class="docutils literal notranslate"><span class="pre">Phaser.TileSprite</span></code>) properties supported by Canvas:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">tilePosition.x/y</span></code></td>
<td>The offset position of the image that is being tiled.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">width</span></code></td>
<td>The width of the tiling sprite.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">height</span></code></td>
<td>The height of the tiling sprite.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">tileScale.x/y</span></code></td>
<td>The scaling of the image that is being tiled.</td>
</tr>
</tbody>
</table>
<p>You can convert any sprite on a tile sprite by selecting it and press <code class="docutils literal notranslate"><span class="pre">L</span></code>. This command also can be used to resize the tile. It is very helpful in games with a lot of tiles. In combination with tiles you can set the scene snapping, to create scenes based on fixed-size textures.</p>
<img alt="Resizing a tile." src="_images/ResizeTile.png" />
</div>
<div class="section" id="text-properties">
<h3>Text properties<a class="headerlink" href="#text-properties" title="Permalink to this headline">¶</a></h3>
<p>These are the Text (<code class="docutils literal notranslate"><span class="pre">Phaser.Text</span></code>) properties supported by Canvas:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>The text content (change it by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+T</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">style.font</span></code></td>
<td>The name of the font.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">style.fontSize</span></code></td>
<td>The font size in pixels.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">style.fontWeight</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">BOLD</span></code> or <code class="docutils literal notranslate"><span class="pre">NORMAL</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">style.fontStyle</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">REGLURA</span></code> or <code class="docutils literal notranslate"><span class="pre">ITALIC</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">style.fill</span></code></td>
<td>The text stroke color.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">style.strokeThickness</span></code></td>
<td>The text stroke width.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">style.backgroundColor</span></code></td>
<td>The background color of the text.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">style.align</span></code></td>
<td>The text horizontal align (<code class="docutils literal notranslate"><span class="pre">LEFT</span></code>, <code class="docutils literal notranslate"><span class="pre">CENTER</span></code> and <code class="docutils literal notranslate"><span class="pre">RIGHT</span></code>)</td>
</tr>
</tbody>
</table>
<p>Phaser Editor uses JavaFX to render the scenes but Phaser uses the browser for the same purpose. This means that in some cases the text object is not rendered in design-time like Phaser renders it at run-time.</p>
<p>Note that Phaser Editor can use the fonts installed in the OS, but the majority of them are not available in all platforms, so we recommend to use safe fonts or load the font files in the CSS of your game.</p>
</div>
<div class="section" id="bitmap-text-properties">
<h3>Bitmap Text properties<a class="headerlink" href="#bitmap-text-properties" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Phaser.BitmapText</span></code> properties supported by Canvas:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">font</span></code></td>
<td>The key of the BitmapFont asset.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">text</span></code></td>
<td>The text to be displayed by this BitmapText object. Can be changed by pressing the <code class="docutils literal notranslate"><span class="pre">X</span></code> key.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">fontSize</span></code></td>
<td>The font size in pixels.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">maxWidth</span></code></td>
<td>The maximum width of this BitmapText in pixels.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">align</span></code></td>
<td>Alignment for multi-line text (<code class="docutils literal notranslate"><span class="pre">'left'</span></code>, <code class="docutils literal notranslate"><span class="pre">'center'</span></code> or <code class="docutils literal notranslate"><span class="pre">'right'</span></code>), does not affect single lines of text.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="text-and-bitmap-text-common-commands">
<h3>Text and Bitmap Text common commands<a class="headerlink" href="#text-and-bitmap-text-common-commands" title="Permalink to this headline">¶</a></h3>
<p>The Text and BitmapText objects contain similar properties that can be changed with the same command (or toolbar button).</p>
<img alt="Common commands to Text and BitmapFont." src="_images/FontToolbar.png" />
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">1</span></code> Change text</td>
<td>Opens a text dialog.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">2</span></code> Change font</td>
<td>If a Text object is selected, it opens a system Font dialog. If a Bitmap Text object is selected, it opens a dialog to select a Bitmap Font asset.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">3</span></code> Font size up</td>
<td>Increment the font size.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">4</span></code> Font size down</td>
<td>Decrement the font size.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">5</span></code> Align left</td>
<td>Align text to left.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">6</span></code> Align center</td>
<td>Align text to center.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">7</span></code> Align right</td>
<td>Align text to right.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tilemap-properties">
<h3>Tilemap properties<a class="headerlink" href="#tilemap-properties" title="Permalink to this headline">¶</a></h3>
<p>At the moment Canvas only supports CSV tilemaps. A CSV tilemap only provides the data of one layer, for that reason, a Canvas tilemap object represents, at the same time, a <code class="docutils literal notranslate"><span class="pre">Phaser.Tilemap</span></code> and a <code class="docutils literal notranslate"><span class="pre">Phaser.TilemapLayer</span></code>, so it contains a merge of properties of the two types. However, the tilemap layer does not have any special properties, it just contains the common sprite properties, so in the Property Grid the Object and Sprite sections are renamed to TilemapLayer Object and TilemapLayer Sprite. These are the properties of the Tilemap:</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">tileWidth</span></code></td>
<td>The base width of the tiles in the map (in pixels). By default <code class="docutils literal notranslate"><span class="pre">32px</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">tileHeight</span></code></td>
<td>The base height of the tiles in the map (in pixels). By default <code class="docutils literal notranslate"><span class="pre">32px</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">tilesetImage</span></code></td>
<td>The unique tileset image of the CSV map. It uses the <code class="docutils literal notranslate"><span class="pre">Tilemap.addTilesetImage()</span></code> method to set the image. If it is not set, the editor simulates an image using different colors, but it is required.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">collision.indexes</span></code></td>
<td>Sets collision to the given tiles. It uses the <code class="docutils literal notranslate"><span class="pre">Tilemap.setCollision()</span></code> method.</td>
</tr>
</tbody>
</table>
<p>All these properties work pretty similar of how works the <a class="reference external" href="preview-window.html#csv-tilemap-preview">Tilemap Preview</a>, it requires you set the right tile size and tileset image, else you will get an unexpected tilemap rendring.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">collision.indexes</span></code> property is edited with the Tilemap Indexes Editor. This editor shows a dialog with the tilemap preview so you can select the indexes.</p>
<img alt="The ``collision.indexes`` editor dialog." src="_images/TilemapIndexesSelection.png" />
<p>As we mentioned, the Canvas tilemap object represents both the Phaser tilemap and Phaser tilemap layer, so the code generator generates two Phaser objects. For example, a <code class="docutils literal notranslate"><span class="pre">level</span></code> tilemap is generated like this:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">_level</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">tilemap</span><span class="p">(</span><span class="s1">&#39;level1&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
<span class="nx">_level</span><span class="p">.</span><span class="nx">addTilesetImage</span><span class="p">(</span><span class="s1">&#39;tileset&#39;</span><span class="p">);</span>
<span class="nx">_level</span><span class="p">.</span><span class="nx">setCollision</span><span class="p">([</span><span class="mi">1</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">_level_layer</span> <span class="o">=</span> <span class="nx">_level</span><span class="p">.</span><span class="nx">createLayer</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="nx">_level_layer</span><span class="p">.</span><span class="nx">resizeWorld</span><span class="p">();</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">field</span></code> property of the tilemap is set <code class="docutils literal notranslate"><span class="pre">true</span></code>, then the associated fields are generated:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">fLevel</span> <span class="o">=</span> <span class="nx">_level</span><span class="p">;</span>
<span class="k">this</span><span class="p">.</span><span class="nx">fLevel_layer</span> <span class="o">=</span> <span class="nx">_level_layer</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="group-properties">
<h3>Group properties<a class="headerlink" href="#group-properties" title="Permalink to this headline">¶</a></h3>
<p>Many times, groups are used as proxy to apply properties or operations to all the children. Here we show the properties supported by the scene editor:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">physicsGroup</span></code></td>
<td>Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if you want to create this group as a Physics Group. A Physics Group is the same as an ordinary Group except that is has enableBody turned on by default, so any Sprites it creates are automatically given a physics body.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">physicsBodyType</span></code></td>
<td>If <code class="docutils literal notranslate"><span class="pre">physicsGroup</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> this is the type of physics body that is created on new Sprites.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">physicsSortDirection</span></code></td>
<td>If this Group contains Arcade Physics Sprites you can set a custom sort direction via this property.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">setAll</span></code></td>
<td>A list of key/value pairs to generate a call to the <code class="docutils literal notranslate"><span class="pre">setAll</span></code> method.</td>
</tr>
</tbody>
</table>
<div class="section" id="physics-groups">
<h4>Physics groups<a class="headerlink" href="#physics-groups" title="Permalink to this headline">¶</a></h4>
<p>Physics groups are created with a different syntax:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">_ground</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">physicsGroup</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">Physics</span><span class="p">.</span><span class="nx">ARCADE</span><span class="p">);</span>
<span class="nx">_ground</span><span class="p">.</span><span class="nx">physicsSortDirection</span> <span class="o">=</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">Physics</span><span class="p">.</span><span class="nx">Arcade</span><span class="p">.</span><span class="nx">LEFT_RIGHT</span><span class="p">;</span>
</pre></div>
</div>
<p>And as mentioned in the previous section, the goal of this kind of groups is to automatically enable physics bodies on the children.</p>
</div>
<div class="section" id="the-setall-property">
<h4>The <code class="docutils literal notranslate"><span class="pre">setAll</span></code> property<a class="headerlink" href="#the-setall-property" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">setAll</span></code> method is often used on the creation of scenes to initialize some values of the children objects. For example, if you are creating a platformer game you can group all the ground sprites on a group and set all the children to <code class="docutils literal notranslate"><span class="pre">body.immovable</span> <span class="pre">=</span> <span class="pre">true</span></code> in this way:</p>
<div class="code highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">groundSprites</span><span class="p">.</span><span class="nx">setAll</span><span class="p">(</span><span class="s2">&quot;body.immovable&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</pre></div>
</div>
<p>Now you don’t need to write it, you can click on the <code class="docutils literal notranslate"><span class="pre">groundSprites</span></code> group and edit the <code class="docutils literal notranslate"><span class="pre">setAll</span></code> property.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">setAll</span></code> property editor is very simple, it is a dialog with a key/value table. For each row of the table, a new <code class="docutils literal notranslate"><span class="pre">setAll</span></code> method call will be generated, the first column will be generated as the property name and the second column as the property value. Note that the name is generated inside a string expression <code class="docutils literal notranslate"><span class="pre">&quot;...&quot;</span></code> but the value of the property is generated verbatim, so you can write any expression there, a string literal, a number, a boolean, a function call, the name of a variable, whatever you want.</p>
<img alt="SetAll property dialog." src="_images/GroupSetAll.png" />
</div>
</div>
<div class="section" id="design-time-object-properties">
<h3>Design-time object properties<a class="headerlink" href="#design-time-object-properties" title="Permalink to this headline">¶</a></h3>
<p>There are special properties that are not directly related to any Phaser API, else these are parameters provided to customize some editor’s behaviors like code generation of objects manipulation. These properties are under the “Editor” section of the Property Grid and we are explain them here:</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">varName</span></code></td>
<td>Used as var name in the generated code and label in the Outline window. Do not confuse it with the <strong>name</strong> parameter, which is part of the Phaser API. You can change this value by pressing <code class="docutils literal notranslate"><span class="pre">F2</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">field</span></code></td>
<td>By default, the objects are references by local variables, however you can set to reference the object by an instance field, so they are accessible outside the method.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">public</span></code></td>
<td>If the target language of the Canvas file is TypeScript, then you can tell if the generated field is private or public.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">pick</span></code></td>
<td>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code> then it cannot be selected in the scene.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">generate</span></code></td>
<td>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> if you need to keep the object in the scene but exclude it from the generated code.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">show</span></code></td>
<td>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> if you want to hide the object in the scene, but it will be included in the code generation. Useful when you want to temporarily hide distracting elements from the scene, like background objects.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">closed</span></code></td>
<td>It only applies to groups. If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the group and the children are going to perform like a single object in operations like selection and dragging. It means, if you pick a child, the group is selected. Yet you can select the children in the Outline window.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="in-scene-object-manipulators">
<h2>In-scene object manipulators<a class="headerlink" href="#in-scene-object-manipulators" title="Permalink to this headline">¶</a></h2>
<p>Some object properties can be edited directly in the scene, the common case are the transformation properties (translation, scale and rotation), but there are other properties like pivot, anchor and physics body. These special editors or manipulators can be shown by pressing a shortcut key, clicking on a toolbar button or selecting an option in the context menu:</p>
<img alt="Menu of common manipulators." src="_images/ManipulatorMenu.png" />
<div class="section" id="translation">
<h3>Translation<a class="headerlink" href="#translation" title="Permalink to this headline">¶</a></h3>
<p>The translation manipulators can be used to move the object in all directions or in a specific axis:</p>
<img alt="The translation manipulators." src="_images/ManipulatorMove.png" />
<p>The manipulators are positioned in dependence of the anchor and pivot values.</p>
<p>That black box on the top/right corner is the Shortcuts Pane. That pane shows some properties and buttons. The properties can be edited by clicking on them. The buttons provides some functions like swap from the local to the global coordinates, or the stepping button, to set the stepping on/off. This is common in other transformations.</p>
<p>When you click on a property, it opens a value input dialog. You can write the value directly or an expression that is evaluated. You can use any JavaScript valid expression, including <code class="docutils literal notranslate"><span class="pre">Math</span></code> functions.</p>
<img alt="Shortcuts pane value dialog." src="_images/ShortcutsPaneFieldValue.png" />
</div>
<div class="section" id="scale">
<h3>Scale<a class="headerlink" href="#scale" title="Permalink to this headline">¶</a></h3>
<p>The scale manipulators are used to scale an object. If you keep the <code class="docutils literal notranslate"><span class="pre">SHIFT</span></code> key pressed, the scale is changed proportionally in the X and Y axis.</p>
<img alt="Scale manipulators." src="_images/ManipulatorScale.png" />
<p>The shortcuts pane contains the following buttons:</p>
<ol class="arabic simple">
<li>Flip horizontally. It just multiplies the <code class="docutils literal notranslate"><span class="pre">scale.x</span></code> property by <code class="docutils literal notranslate"><span class="pre">-1</span></code>.</li>
<li>Flip vertically. It just multiplies the <code class="docutils literal notranslate"><span class="pre">scale.y</span></code> property by <code class="docutils literal notranslate"><span class="pre">-1</span></code>.</li>
<li>Set the scale to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</li>
<li>Lock the scale, it means, change it proportionally or not.</li>
<li>Use the local or global coordinates.</li>
</ol>
</div>
<div class="section" id="rotation">
<h3>Rotation<a class="headerlink" href="#rotation" title="Permalink to this headline">¶</a></h3>
<p>The rotation manipulators are used to rotate an object:</p>
<img alt="Rotation manipulators." src="_images/ManipulatorRotate.png" />
<p>The shortcuts pane for this transformation contains the following elements:</p>
<ol class="arabic simple">
<li>Decrement the angle.</li>
<li>Increment the angle.</li>
<li>The value of the angle to increment/decrement with the buttons 1 and 2.</li>
<li>Use the local or global coordinates.</li>
</ol>
</div>
<div class="section" id="anchor">
<h3>Anchor<a class="headerlink" href="#anchor" title="Permalink to this headline">¶</a></h3>
<p>With the anchor manipulators you can move the anchor point to the desired position:</p>
<img alt="Anchor manipulators." src="_images/ManipulatorAnchor.png" />
<p>The shortcuts pane contains a series of buttons to select one of the anchor presets: <code class="docutils literal notranslate"><span class="pre">0</span></code>-<code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">0.5</span></code>-<code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>-<code class="docutils literal notranslate"><span class="pre">0</span></code> …</p>
</div>
<div class="section" id="pivot">
<h3>Pivot<a class="headerlink" href="#pivot" title="Permalink to this headline">¶</a></h3>
<p>Just like the anchor manipulators: the pivot manipulator and the shortcuts pane.</p>
<img alt="Pivot manipulators." src="_images/ManipulatorPivot.png" />
</div>
</div>
<div class="section" id="scene-configuration">
<h2>Scene configuration<a class="headerlink" href="#scene-configuration" title="Permalink to this headline">¶</a></h2>
<p>As you can note the scene editor has two tabs: Design and Configuration. The Design tab contains everything about the objects and the Configuration tab contains other parameters not related to any object in particular else with the scene.</p>
<p>The Configuration tab is split in two panels, the left panel shows a list of sections and the right panel a grid of properties of the selected section.</p>
<p>The configuration of sprites and group scenes are the same, it contains only an Editor section with design/code-generation specific parameters. The state scene contains the Editor section in addition to a State section with <code class="docutils literal notranslate"><span class="pre">Phaser.State</span></code> related parameters.</p>
<div class="section" id="the-editor-section">
<h3>The Editor section<a class="headerlink" href="#the-editor-section" title="Permalink to this headline">¶</a></h3>
<p>This section contains a couple of parameters that are not related to any Phaser API else they are related to code generation or design functionalities:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Documentation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Scene</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">width</span></code></td>
<td>The width of the scene.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">height</span></code></td>
<td>The height of the scene.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">backgroundColor</span></code></td>
<td>The background color.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">gridColor</span></code></td>
<td>The grid color</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">showGrid</span></code></td>
<td>Show the grid lines.</td>
</tr>
<tr class="row-even"><td><strong>Snapping</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">enable</span></code></td>
<td>The snapping make it easy to place objects in a grid.
You can toggle this parameter with the <code class="docutils literal notranslate"><span class="pre">E</span></code> key.
The <code class="docutils literal notranslate"><span class="pre">W</span></code> key enable the snapping and set the
<code class="docutils literal notranslate"><span class="pre">stepWidth</span></code> and <code class="docutils literal notranslate"><span class="pre">stepHeight</span></code> with the size of
the selected object</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">stepWidth</span></code></td>
<td>The X step. Press <code class="docutils literal notranslate"><span class="pre">W</span></code> to set this with the width
of the selected object.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">stepHeight</span></code></td>
<td>The Y step. Press <code class="docutils literal notranslate"><span class="pre">W</span></code> to set this with the height
of the selected object.</td>
</tr>
<tr class="row-even"><td><strong>Source</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">className</span></code></td>
<td>The name of the generated class. It does not change
the name of the file.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">baseClass</span></code></td>
<td>The name of the extended class, for example a custom <code class="docutils literal notranslate"><span class="pre">MySprite</span></code> class that extends <code class="docutils literal notranslate"><span class="pre">Phaser.Sprite</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">userCode</span></code></td>
<td>A series of chunk of codes that the user can insert into the generated code. In the <a class="reference internal" href="#user-code">User code</a> section we explain this in details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">lang</span></code></td>
<td>The language or format of the code: JavaScript 5, JavaScript 6 or TypeScript.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">generateOnSave</span></code></td>
<td>By setting it to <code class="docutils literal notranslate"><span class="pre">false</span></code> it disable the automatic code generation.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="state-scene-configuration">
<h3>State scene configuration<a class="headerlink" href="#state-scene-configuration" title="Permalink to this headline">¶</a></h3>
<p>The configuration of sprite and group scenes are pretty the same, it only contains an Editor section. However the state scene has a State section with some paremeters related to the <code class="docutils literal notranslate"><span class="pre">Phaser.State</span></code> API. At the moment this section only contains a few parameters but the ideal is to have a bigger set of parameters so it makes easy to the user to configure a state. Let’s see the list of parameters supported rigth now:</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Scale</strong></td>
<td>A section dedicated to the <code class="docutils literal notranslate"><span class="pre">Phaser.ScaleManager</span></code> API (<code class="docutils literal notranslate"><span class="pre">game.scale</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">scaleMode</span></code></td>
<td>The scaling method used by the ScaleManager when not in fullscreen.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">pageAlignHorizontally</span></code></td>
<td>When enabled the Display canvas will be horizontally-aligned in the Parent container.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">pageAlignVertically</span></code></td>
<td>When enabled the Display canvas will be vertically-aligned in the Parent container.</td>
</tr>
<tr class="row-odd"><td><strong>Physics</strong></td>
<td>A section dedicated to the <code class="docutils literal notranslate"><span class="pre">Phaser.Physics</span></code> API (<code class="docutils literal notranslate"><span class="pre">game.physics</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">startSystem</span></code></td>
<td>To start one of the selected physics engines (P2JS, NINJA, BOX2D, ARCADE).</td>
</tr>
<tr class="row-odd"><td><strong>Stage</strong></td>
<td>A section dedicated to the <code class="docutils literal notranslate"><span class="pre">Phaser.Stage</span></code> API (<code class="docutils literal notranslate"><span class="pre">game.stage</span></code>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">backgroundColor</span></code></td>
<td>Gets and sets the background color of the stage. Note that it does not change the color of the scene in design-time.</td>
</tr>
<tr class="row-odd"><td><strong>Preload</strong></td>
<td>A section related to the Phaser loader API.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">pack</span></code></td>
<td>Like in <code class="docutils literal notranslate"><span class="pre">Phaser.Loader.pack()</span></code> this parameter accepts a list of sections of the pack files of the project. When you drop an asset to the scene it loads its pack section automatically, however it is possible that you create other sections with other kind of assets so in this parameter you can declare them to be loaded.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">isPreloader</span></code></td>
<td>Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if you like to use this state as a preloader state. More is explained in the <a class="reference internal" href="#preloader-state-configuration">Preloader state configuration</a> section.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">preloadSprite</span></code></td>
<td>This parameter is shown onny if the <code class="docutils literal notranslate"><span class="pre">isPreloader</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code>. When you edit this parameter it shows a dialog to select one of the scene sprites. This sprite will be used as the preload sprite as is explained in the <code class="docutils literal notranslate"><span class="pre">Phaser.Loader.setPreloadSprite()</span></code> method: Set a Sprite to be a “preload” sprite by passing it to this method. A “preload” sprite will have its width or height crop adjusted based on the percentage of the loader in real-time. This allows you to easily make loading bars for games. The sprite will automatically be made visible when calling this.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">preloadSprite.direction</span></code></td>
<td>The direction parameter of the <code class="docutils literal notranslate"><span class="pre">Phaser.Loader.setPreloadSprite()</span></code> method. It should be <code class="docutils literal notranslate"><span class="pre">HORIZONTAL</span></code> or <code class="docutils literal notranslate"><span class="pre">VERTICAL</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">autoLoad</span></code></td>
<td>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> if you want to disable the automatic loading of assets. This is very useful when you have a Preloader state where all the assets are loaded, so the rest of states do not need to load them. If you like to load a particular asset then set it on the <code class="docutils literal notranslate"><span class="pre">pack</span></code> property. Note that when the <code class="docutils literal notranslate"><span class="pre">isPreloader</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">true</span></code> the <code class="docutils literal notranslate"><span class="pre">autoLoad</span></code> should be <code class="docutils literal notranslate"><span class="pre">false</span></code>, because all the sections to load are set manually.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="preloader-state-configuration">
<h3>Preloader state configuration<a class="headerlink" href="#preloader-state-configuration" title="Permalink to this headline">¶</a></h3>
<p>Often games load and process all the assets on a loading screen. In Phaser, this loading screen is coded in a preloader state.
A preloader state is just like any other Phaser state, but the sprites are created in the <code class="docutils literal notranslate"><span class="pre">preload</span></code> method (instead of the <code class="docutils literal notranslate"><span class="pre">create</span></code> method) and the <code class="docutils literal notranslate"><span class="pre">game.load.setPreloadSprite()</span></code> method is used to set the sprite to be used as progress bar.</p>
<p>The Phaser Project wizard of the editor provides a few project layout options, one of them is the <strong>Multiple states with preloader (for larger games)</strong>. We recommend using that layout if you like to add a loading screen to your game. If you want to see a demo just select the <strong>Include demo assets</strong> parameter, it will create a project with a loading screen with a dino progress bar:</p>
<img alt="Create a project with a preloader state." src="_images/CreatePreloaderDemoProject.png" />
<p>The created project contains a <code class="docutils literal notranslate"><span class="pre">Preloader.canvas</span></code> file with the preload sprite (the dino kid):</p>
<img alt="Preloader scene with the preload sprite." src="_images/PreloaderStateScene.png" />
<p>In the Configuration tab, in the State section, you can see the <code class="docutils literal notranslate"><span class="pre">isPreloader</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code> and the <code class="docutils literal notranslate"><span class="pre">preloadSprite</span></code> is set to <code class="docutils literal notranslate"><span class="pre">logo</span></code>:</p>
<img alt="Configuration of a preloader state." src="_images/PreloaderStateConfig.png" />
<p>When you run the project you will see how the dino is cropped from left to right as a progress of the loading. We recommend to test it on Chrome and enable the <code class="docutils literal notranslate"><span class="pre">Network</span> <span class="pre">→</span> <span class="pre">Throttling</span></code> parameter because serving from localhost is too fast to see the progress.</p>
<p>As we commented before, a key difference between a preloader state and a common state is that the sprites are created in the <code class="docutils literal notranslate"><span class="pre">preload</span></code> method. Why? Because the <code class="docutils literal notranslate"><span class="pre">create</span></code> is called only when all the assets are loaded, but what we need is to show the progress of the assets loading. Usually what is coded in the <code class="docutils literal notranslate"><span class="pre">create</span></code> method is code to start the next state of the game. So the code of the <code class="docutils literal notranslate"><span class="pre">Preloader.js</span></code> state of the previous project looks like this:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// -- user code here --</span>

<span class="cm">/* --- start generated code --- */</span>

<span class="c1">// Generated by Phaser Editor v1.4.0 (Phaser v2.6.2)</span>


<span class="cm">/**</span>
<span class="cm"> * Preloader.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">Preloader</span><span class="p">()</span> <span class="p">{</span>

        <span class="nx">Phaser</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

<span class="p">}</span>

<span class="cm">/** @type Phaser.State */</span>
<span class="kd">var</span> <span class="nx">Preloader_proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Phaser</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="nx">Preloader</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">Preloader_proto</span><span class="p">;</span>
<span class="nx">Preloader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">Preloader</span><span class="p">;</span>

<span class="nx">Preloader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">scaleMode</span> <span class="o">=</span> <span class="nx">Phaser</span><span class="p">.</span><span class="nx">ScaleManager</span><span class="p">.</span><span class="nx">SHOW_ALL</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">pageAlignHorizontally</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">pageAlignVertically</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="p">};</span>

<span class="nx">Preloader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">preload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">pack</span><span class="p">(</span><span class="s1">&#39;preloader&#39;</span><span class="p">,</span> <span class="s1">&#39;assets/pack.json&#39;</span><span class="p">);</span>


<span class="hll">        <span class="kd">var</span> <span class="nx">_logo</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">299</span><span class="p">,</span> <span class="mi">231</span><span class="p">,</span> <span class="s1">&#39;logo&#39;</span><span class="p">);</span>
</span><span class="hll">
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">.</span><span class="nx">setPreloadSprite</span><span class="p">(</span><span class="nx">_logo</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span>
<span class="p">};</span>

<span class="nx">Preloader</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">create</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">nextState</span><span class="p">();</span>


<span class="p">};</span>

<span class="cm">/* --- end generated code --- */</span>
<span class="c1">// -- user code here --</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="user-code">
<h2>User code<a class="headerlink" href="#user-code" title="Permalink to this headline">¶</a></h2>
<p>Usually, tools like Canvas provide a dedicated runtime to load the scenes in the Phaser games, however, that practice is not in the Phaser Editor’s philosophy of support plain Phaser, so we decided to use a compiler technique. This means that the scenes files are compiled into plain Phaser code, that can be integrated into the game as any other code written by the user.</p>
<p>The scenes are compiled into Sprite, Group and State classes, however, there are many aspects of the game that are out of the scope of the tool, like for example the logic of the game is something that you have to write yourself. In this section, we explain how you can insert your own code into the files generated by the editor.</p>
<p>There are two main ways to insert your code: (1) by writing it directly in certain parts of the file or (2) by writing it in the <code class="docutils literal notranslate"><span class="pre">userCode</span></code> parameter of the scene configuration.</p>
<div class="section" id="writing-into-the-code-file">
<h3>Writing into the code file<a class="headerlink" href="#writing-into-the-code-file" title="Permalink to this headline">¶</a></h3>
<p>You are always allowed to write in any part of the generated file, but if you do not follow certain rules that code could be overwritten (lost) in the next compilation. There are very well defined sections of the file where you can write your code and it is preserved from compilation to compilation.</p>
<ul>
<li><p class="first">As general rule just write your code in sections where it says <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">--</span> <span class="pre">user</span> <span class="pre">code</span> <span class="pre">here</span> <span class="pre">--</span></code>.</p>
</li>
<li><p class="first">All the files have a <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">---</span> <span class="pre">start</span> <span class="pre">generated</span> <span class="pre">code</span> <span class="pre">---</span> <span class="pre">*/</span></code> line at the beginning of the file, you can write your code before that.</p>
</li>
<li><p class="first">All the files have a <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">---</span> <span class="pre">end</span> <span class="pre">generated</span> <span class="pre">code</span> <span class="pre">---</span> <span class="pre">*/</span></code> line at the end of the file, you can write your code after that.</p>
</li>
<li><p class="first">In JavaScript 6 and TypeScript generated files you can write your code between the comments:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">sprite-methods-begin</span> <span class="pre">*/</span></code> and <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">sprite-methods-end</span> <span class="pre">*/</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">group-methods-begin</span> <span class="pre">*/</span></code> and <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">group-methods-end</span> <span class="pre">*/</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">state-methods-begin</span> <span class="pre">*/</span></code> and <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">state-methods-end</span> <span class="pre">*/</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>These sections are created in places that allow the user to add more elements to the classes, like methods or fields.</p>
</div>
<div class="section" id="writing-into-the-configuration">
<h3>Writing into the configuration<a class="headerlink" href="#writing-into-the-configuration" title="Permalink to this headline">¶</a></h3>
<p>The other way to insert user code into the generated file is to write it in the configuration of the scene (look at the Configuration tab the Editor section). The compiler reads the content of the <code class="docutils literal notranslate"><span class="pre">userCode</span></code> parameter and writes it into the file. In this case, there is no risk to lost the code because it is saved in the Canvas file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">userCode</span></code> parameter is divided into sections that refer to different points of the generated code. The idea is to insert code into the generated methods, <code class="docutils literal notranslate"><span class="pre">before</span></code> and <code class="docutils literal notranslate"><span class="pre">after</span></code> the method’s body. For example you can add code after the body of the method <code class="docutils literal notranslate"><span class="pre">create</span></code> to perform other initialization routines, like create tween objects or audio objects or set other parameters to the current objects.</p>
<p>When you click to edit the <code class="docutils literal notranslate"><span class="pre">userCode</span></code> parameter, it opens a dialog with a tab for method, and each tab has two text boxes, one to write the <code class="docutils literal notranslate"><span class="pre">before</span></code> code and other to write the <code class="docutils literal notranslate"><span class="pre">after</span></code> code. For example, a state scene <code class="docutils literal notranslate"><span class="pre">userCode</span></code> has a tab for Constructor, Init, Preload and Create. All these tabs denote a method generated by the editor, so you can write your own code there.</p>
<p>For example, let’s see a case of user code inserted in a state scene via configuration:</p>
<img alt="User code dialog." src="_images/UserCodeDialog.png" />
<p>The code set there is inserted in the <code class="docutils literal notranslate"><span class="pre">create</span></code> method of the compiled code:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Level</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">create</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="o">-</span><span class="mi">175</span><span class="p">,</span> <span class="o">-</span><span class="mi">85</span><span class="p">,</span> <span class="s1">&#39;bg&#39;</span><span class="p">);</span>

        <span class="kd">var</span> <span class="nx">_tree_</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="s1">&#39;environ&#39;</span><span class="p">,</span> <span class="s1">&#39;tree-1&#39;</span><span class="p">);</span>
        <span class="nx">_tree_</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">setTo</span><span class="p">(</span><span class="mf">2.0687500039674838</span><span class="p">,</span> <span class="mf">2.072000037051153</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">453</span><span class="p">,</span> <span class="mi">306</span><span class="p">,</span> <span class="s1">&#39;environ&#39;</span><span class="p">,</span> <span class="s1">&#39;bridge&#39;</span><span class="p">);</span>

<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">myOnStateCreated</span><span class="p">();</span>
</span>
<span class="p">};</span>
</pre></div>
</div>
<p>We recommend writing just a few lines of code via the <code class="docutils literal notranslate"><span class="pre">userCode</span></code> configuration, especially because that dialog does not provide advanced features like code completion. In our demos and games what we do is to write a call to a method that was defined at the end of the file, in a protected zone, using the method explained in the <a class="reference internal" href="#writing-into-the-code-file">Writing into the code file</a> section.</p>
<p>You can open the user code dialog directly from the scene, press <code class="docutils literal notranslate"><span class="pre">Ctrl+Shift+U</span></code> or right click and select the <code class="docutils literal notranslate"><span class="pre">Edit</span> <span class="pre">User</span> <span class="pre">Code</span></code> menu option.</p>
<p>In the Preferences window, in the <code class="docutils literal notranslate"><span class="pre">Phaser</span> <span class="pre">Editor</span> <span class="pre">→</span> <span class="pre">Canvas</span> <span class="pre">→</span> <span class="pre">Code</span> <span class="pre">Generation</span></code> section, you can change the default user code for each new Canvas file. This helps you to follow certain programming style in all your games.</p>
</div>
<div class="section" id="public-objects">
<h3>Public objects<a class="headerlink" href="#public-objects" title="Permalink to this headline">¶</a></h3>
<p>In the <a class="reference internal" href="#object-properties">Object properties</a> section we mentioned the <code class="docutils literal notranslate"><span class="pre">field</span></code> property of an object. It is a <a class="reference external" href="#design-time-object-properties">design time property</a> used to publish the objects beyond its declaring method. The concept is simple, for each object (if the <code class="docutils literal notranslate"><span class="pre">field</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>) is created an instance field that references it. These fields follow the format <code class="docutils literal notranslate"><span class="pre">f&lt;ObjectName&gt;</span></code>, for example, if the object <code class="docutils literal notranslate"><span class="pre">star</span></code> has <code class="docutils literal notranslate"><span class="pre">field=true</span></code>, the an <code class="docutils literal notranslate"><span class="pre">fStar</span></code> field is generated:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Level</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">create</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">_star</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">.</span><span class="nx">sprite</span><span class="p">(</span><span class="mi">67</span><span class="p">,</span> <span class="mi">197</span><span class="p">,</span> <span class="s1">&#39;environ&#39;</span><span class="p">,</span> <span class="s1">&#39;star&#39;</span><span class="p">);</span>

        <span class="c1">// fields</span>

<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">fStar</span> <span class="o">=</span> <span class="nx">_star</span><span class="p">;</span>
</span>
<span class="p">};</span>

<span class="cm">/* --- end generated code --- */</span>

<span class="nx">Level</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">update</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">fStar</span><span class="p">.</span><span class="nx">angle</span> <span class="o">+=</span> <span class="mi">5</span><span class="p">;</span>
</span><span class="p">};</span>
</pre></div>
</div>
<p>In case of TypeScript projects, there is the <code class="docutils literal notranslate"><span class="pre">public</span></code> property. It indicates if the field will be public or private.</p>
</div>
</div>
<div class="section" id="objects-alignment-and-depth-order">
<h2>Objects alignment and depth order<a class="headerlink" href="#objects-alignment-and-depth-order" title="Permalink to this headline">¶</a></h2>
<p>Position commands are always a powerful resource to build the layout of scenes. In Canvas we support some basic commands for alignment (left, right, top, bottom, center, and middle) and for depth order (rise, rise to top, lower and lower to bottom).</p>
<div class="section" id="alignment">
<h3>Alignment<a class="headerlink" href="#alignment" title="Permalink to this headline">¶</a></h3>
<p>The alignment commands are available in the context menu and the Canvas toolbar:</p>
<img alt="Align objects." src="_images/AlignObjects.png" />
<p>The alignment commands are related to the parent group of the target object. If the sprite “head” belongs to the group “dino”, and we select the “left” alignment, then the local X position of “dino” will be set to <code class="docutils literal notranslate"><span class="pre">0</span></code>, it means, that it will be at the left border of the group. Note that objects with no parent are set to belong to the global scene group.</p>
</div>
<div class="section" id="depth-order">
<h3>Depth order<a class="headerlink" href="#depth-order" title="Permalink to this headline">¶</a></h3>
<p>Pretty similar to alignment commands there are the order commands. To apply them first you select the target objects and click on the corresponding toolbar button or context menu option.</p>
<p>The “order” commands send an object back and forward, in the display list of its group.</p>
<p><em>NOTE: In Phaser, there are some alignment constants and methods, but they are more (we think) about to align an object at runtime. It is a great resource for those who set the game layout “by hand”. We are exploring this new features and in future versions of Canvas we can take advantage of it or reuse some concepts, like align in a grid.</em></p>
</div>
</div>
<div class="section" id="common-editing-operations">
<h2>Common editing operations<a class="headerlink" href="#common-editing-operations" title="Permalink to this headline">¶</a></h2>
<p>Canvas support common editing operations like:</p>
<ul class="simple">
<li>Cut, Copy and Paste of the objects.</li>
<li>Undo, Redo of all major operations on nodes.</li>
<li>Zoom in/out/restore. Scroll the wheel of the mouse to zoom in/out, and the Zoom 1:1 button in the toolbar. You can use the <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">O</span></code> keys too.</li>
<li>Pan the scene, by holding the middle mouse button and dragging in any direction.</li>
<li>Object selection, by clicking it or dragging the mouse and create a selection box.</li>
<li>Object moving, first you select the objects and then you drag them.</li>
</ul>
</div>
<div class="section" id="removing-distractions">
<h2>Removing distractions<a class="headerlink" href="#removing-distractions" title="Permalink to this headline">¶</a></h2>
<p>The default layout in Phaser Editor is a bit charged, it opens the Project Explorer, Chains view, Problems view, Preview view and Assets view, in addition to the editor area. However, Eclipse (the platform behind Phaser Editor) has a very customizable and flexible layout. You can minimize windows and open them with a quick look, or dock the windows (the right term for them is “views”) in the screen corners or stack them. We encourage you to read the Workbench User Guide bundled in Phaser Editor.</p>
<p>Drag the windows to a corner or fold it with other windows:</p>
<img alt="Docked windows." src="_images/DockedWindows.png" />
<p>A window (like the scene editor) can be detached from the main application by dragging it away from the main window:</p>
<img alt="Stand-alone scene editor." src="_images/DetachedWindow.png" />
<p>Double click in the scene editor tab (or press <code class="docutils literal notranslate"><span class="pre">Ctrl+M</span></code>), it maximizes the editor window and minimizes all the other windows around. You will get all the space for the scene editor but at the same time you can do a quick look (by clicking on its icon) to the minimized windows (like the Assets or Preview windows):</p>
<img alt="Fast view." src="_images/QuickLookMinWindow.png" />
<p>Other elements you can remove are the property grid and the outline windows that are inside the scene editor. To do this just click on the “side panel” icon of the toolbar:</p>
<img alt="Buttons for remove distractions." src="_images/ToolbarIconsSidePanel.png" />
<p>Really you don’t need these panels all the time open, you always can edit the properties of an object by pressing <code class="docutils literal notranslate"><span class="pre">Q</span></code>, it opens a quick edit dialog with  the property grid inside:</p>
<img alt="Edit the object in place." src="_images/QuickEditDialog.png" />
<p>To navigate the scene you can open the Quick Outline window by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+O</span></code>:</p>
<img alt="Quick navigate the scene." src="_images/QuickOutlineWindow.png" />
<p>To quickly add objects to the scene you can use the fast view to the minimized windows but also you can use the Palette, that is a small panel where you can collect the assets to be used in the scene. In the section <a class="reference internal" href="#from-the-palette">from the palette</a> it is explained in details.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="jseditor.html" class="btn btn-neutral float-right" title="Coding The Game: The JavaScript Editor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="assets-manager.html" class="btn btn-neutral" title="Assets Management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, Arian Fornaris.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.5.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   
</body>
</html>